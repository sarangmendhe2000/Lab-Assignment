package com.demo.beans;

public class CircularLinkedList {
    Node head;
//inner class 
    class Node {
        int data;
        Node next;

        //parameterized constructor
        Node(int value) 
        {
            this.data = value;
            this.next = null;
        }
    }

    //The flowchart describes the logic of the addNode method.
   // It starts by creating a new Node.
 /*   If the list is empty (head == null), the new node becomes the head, 
  * and its next pointer points to itself.
    If the list is not empty, it iterates through the list using a temp pointer until it
     reaches the last node (where temp.next is head).
    The next of the last node is then linked to the newNode, and 
    the newNode's next is linked back to head.
   */
    public void addNode(int val) {
        Node newNode = new Node(val);// starts with making new nodes 
        if (head == null) {
            head = newNode;
            head.next = head;
        } else {
            Node temp = head;
            while (temp.next != head) {
                temp = temp.next;
            }
            temp.next = newNode;
            newNode.next = head;
        }
    }

    public void addByPosition(int pos, int val) {
        if (head == null) {
            System.out.println("List is empty. Cannot add at position " + pos + ".");
            return;
        }

        Node newNode = new Node(val);
        if (pos == 1) {
            Node temp = head;
            while (temp.next != head) {
                temp = temp.next;
            }
            newNode.next = head;
            head = newNode;
            temp.next = head;
        } else {
            Node temp = head;
            int count = 1;
            while (temp.next != head && count < pos - 1) {
                temp = temp.next;
                count++;
            }
            if (count == pos - 1) {
                newNode.next = temp.next;
                temp.next = newNode;
            } else {
                System.out.println("Position " + pos + " is out of bounds.");
            }
        }
    }
    public void deleteByPosition(int pos) {

    	if(head == null) {
    		System.out.println("List is empty!");
    		return;
    	}

    	if(pos == 1) {
    		if(head.next == head) {
    			head = null;
    		} else {
    			Node temp = head;
    			while(temp.next != head) {
    				temp = temp.next;
    			}
    			temp.next = head.next;
    			head = head.next;
    		}
    	} else {
    		Node current = head;
    		Node previous = null;
    		int count = 1;

    		while (current.next != head && count < pos) {
    			previous = current;
    			current = current.next;
    			count++;
    		}

    		if (count == pos) {
    			previous.next = current.next;
    		} else {
    			System.out.println("Position " + pos + " is out of bounds.");
    		}
    	}
    }
    

    
    public void displayData() {
        if (head == null) {
            System.out.println("List is empty");
        } else {
            Node temp = head;
            do {
                System.out.print(temp.data + ", ");
                temp = temp.next;
            } while (temp != head);
            System.out.println();
        }
    }
} 