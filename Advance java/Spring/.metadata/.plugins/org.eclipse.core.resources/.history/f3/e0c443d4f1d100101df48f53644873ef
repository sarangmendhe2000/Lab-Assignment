package com.demo.test;

import java.util.List;
import java.util.Scanner;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.demo.bean.Product;
import com.demo.service.ProductService;

public class TestJdbc {
public static void main(String[] args) {
		
	Scanner sc = new Scanner(System.in);
	
	ApplicationContext ctx = new ClassPathXmlApplicationContext("springconfig.xml");
	ProductService pservice = (ProductService)ctx.getBean("productServiceImpl");
	
	
	int choice =0;
	
	do
	{
		
		System.out.println("1-> Add Product");
		System.out.println("2-> Display All");
		System.out.println("3-> Update Product By id");
		System.out.println("4-> Delete Product by id");
		System.out.println("5-> Display By id");
		System.out.println("6-> Arrange in sorted order");
		System.out.println("7-> Display By Category Id");
		System.out.println("8-> Exit !");
		
		
		System.out.println("Enter choice");
		choice = sc.nextInt();
		
		
		switch(choice)
		{
		
		case 1 ->{
			
			boolean status = pservice.addProduct();
			
			if(status)
			{
				System.out.println("Product Added Successfully ! ");
			}
			else
			{
				System.out.println("Error ! Not Added ");
			}
			
			
		}
		
		case 2 ->{
			
			List<Product> plist = pservice.displayAll();
			plist.forEach(System.out::println);
		}
		
		case 3 ->{
			System.out.println("Enter Product id");
			int id = sc.nextInt();
			System.out.println("Enter New Price");
			double price = sc.nextDouble();
			
			
			boolean status = pservice.updateById(id , price);
			if(status)
			{
				System.out.println("Updated Successfully");
			}
			else
			{
				System.out.println("Not Updated ! Error ");
			}
		}
		
		
		case 4 ->{
			
			System.out.println("Enter Product Id ");
			int id = sc.nextInt();
			
			boolean status = pservice.deleteById(id);
			if(status)
			{
				System.out.println("Deleted Successfully ! ");
			}
			else
			{
				System.out.println("Error ! ");
			}
		}
		
		case 5 ->{
			
			System.out.println("Enter Product Id ");
			int id = sc.nextInt();
			
			Product p = pservice.findByProductId();
			
		}
		
		
		}
		
		
		
		
	}while(choice != 8);
	
	
	
}
}
